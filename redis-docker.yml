---
- hosts: redis_nodes
  tasks: 
    - name: Create a data container
      docker_container:
        name: redis
        image: redis:latest        
        volumes:
           - ./config/redis:/etc/redis
           - ./config/data:/data
        command: [ "redis-server", "/etc/redis/redis.conf" ]
        ports:
        - 6379:6379
    
    - name: Create sentinel
      docker_container:
        name: sentinel
        image: redis:latest        
        volumes:
           - ./config/sentinel:/etc/redis           
        command: [ "redis-sentinel", "/etc/redis/redis.conf" ]
        ports:
        - 26379:26379
        